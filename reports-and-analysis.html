<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Reports and Analysis - flow accounting</title><meta name="description" content="Purpose Report Classes and their Reports: Reports 107 to 113 do not have Destination to Excel available. Fixes needed for these extensions&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="./reports-and-analysis.html"><link rel="stylesheet" href="./assets/css/fontawesome-all.min.css?v=85514f933f9e0b82460af63f1a403fa5"><link rel="stylesheet" href="./assets/css/style.css?v=fe08125592679d0c116054906c8e9f5c"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"./reports-and-analysis.html"},"headline":"Reports and Analysis","datePublished":"2025-12-08T15:25+05:30","dateModified":"2025-12-08T15:26+05:30","image":{"@type":"ImageObject","url":"./media/website/flow-500.png","height":242,"width":499},"description":"Purpose Report Classes and their Reports: Reports 107 to 113 do not have Destination to Excel available. Fixes needed for these extensions&hellip;","author":{"@type":"Person","name":"Grapito","url":"./authors/grapito/"},"publisher":{"@type":"Organization","name":"Grapito","logo":{"@type":"ImageObject","url":"./media/website/flow-500.png","height":242,"width":499}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="is-preload page-template"><div id="wrapper"><div id="main"><div class="inner"><header id="header"><a class="logo logo-image" href="./"><img src="./media/website/flow-500.png" alt="flow accounting" width="499" height="242"></a></header><article class="post"><header class="main post__header"><h1>Reports and Analysis</h1></header><div class="post__inner post__entry"><h3>Purpose</h3><p><strong>Report Classes and their Reports:</strong></p><ul><li>Customer<ul><li>101 - Customer <strong>B</strong>alances<ul><li>Forum Post: Select <strong>Show Balance</strong> to be like GL without Allocations, otherwise only fixed allocations will be used.</li><li>Forum Post: Rounding off SUM Errors when converted from other currencies - Comparison Screenshot</li><li>Forum Post: Allocate Bank Payment to Customer Credit Note on goods returned on originally allocated Sales Invoice</li></ul></li><li>102 - <strong>A</strong>ged Customer Analysis<ul><li>Forum Post: Select <strong>Show also allocated</strong> to get correct GL result, otherwise only fixed allocations will be used.</li><li>Forum Post: "All currency" customers are presented in company currency together with customers in the same currency as the company. Only when a <strong>customer is selected</strong> that customers currency is presented.</li></ul></li><li>103 - Customer <strong>D</strong>etail Listing</li><li>104 - <strong>P</strong>rice Listing</li><li>105 - <strong>O</strong>rder Status Listing</li><li>106 - <strong>S</strong>alesman Listing</li><li>107 - Print <strong>I</strong>nvoices | Condensed Format and it's Modified Code</li><li>108 - Print <strong>S</strong>tatements</li><li>109 - <strong>P</strong>rint Sales Orders - Change Line Spacing</li><li>110 - Print <strong>D</strong>eliveries - Also handles Packing Lists. | Bin Locations in Packing List</li><li>111 - <strong>P</strong>rint Sales Quotations</li><li>112 - Print Receipts</li><li>113 - Print <strong>C</strong>redit Notes</li><li>114 - Customer Sales <strong>S</strong>ummary Report</li><li>115 - Customer Trial Balance Report</li></ul></li><li>Supplier<ul><li>201 - Supplier <strong>B</strong>alances- Forum Post: Select <strong>Show Balance</strong> to be like GL without Allocations, otherwise only fixed allocations will be used.</li><li>202 - <strong>A</strong>ged Supplier Analyses<ul><li>Forum Post: Select <strong>Show also allocated</strong> to get correct GL result, otherwise only fixed allocations will be used.</li><li>Forum Post: "All currency" suppliers are presented in company currency together with suppliers in the same currency as the company. Only when a <strong>supplier is selected</strong> that suppliers currency is presented.</li></ul></li><li>203 - <strong>P</strong>ayment Report</li><li>204 - Outstanding <strong>G</strong>RNs Report</li><li>205 - Supplier <strong>D</strong>etail Listing</li><li>206 - Supplier <strong>T</strong>rial Balance Report</li><li>209 - Print Purchase <strong>O</strong>rders</li><li>210 - Print Remittances</li></ul></li><li>Inventory<ul><li>301 - Inventory <strong>V</strong>aluation Report</li><li>302 - Inventory <strong>P</strong>lanning Report<ul><li>Forum Post: See line 175 - First the maximum of the last 4 months is calculated. Then this maximum is multiplied with 3 to get a 3 months estimate. This is based on known methods to know the needed stock in advance and to eliminate the risk for one-time sales.</li></ul></li><li>303 - Stock <strong>C</strong>heck Sheets</li><li>304 - Inventory <strong>S</strong>ales Report</li><li>305 - <strong>G</strong>RN Valuation Report</li><li>306 - Inventory P<strong>u</strong>rchasing Report - as of v2.3.13 Build 3133</li><li>307 - Inventory <strong>M</strong>ovement Report - as of v2.3.14 Build 3159</li><li>308 - C<strong>o</strong>sted Inventory Movement Report - as of v2.3.15+ Build 3224</li><li>309 - Item <strong>S</strong>ales Summary Report - as of v2.3.15 Build 3231 and as an extension for prior builds</li><li>310 - Inventory Purchasing - <strong>T</strong>ransaction Based Report - as of v2.4.3+ Build 20171215</li></ul></li><li>Manufacturing<ul><li>401 - <strong>B</strong>ill of Material Listing</li><li>402 - Work Order <strong>L</strong>isting</li><li>409 - Print <strong>W</strong>ork Orders</li></ul></li><li>Fixed Assets<ul><li>451 - <strong>F</strong>ixed Assets Valuation</li></ul></li><li>Dimensions<ul><li>501 - Dimension <strong>S</strong>ummary</li></ul></li><li>Banking<ul><li>601 - Bank <strong>S</strong>tatement | Forum Post: Mod to show Person / Item if not Supplier / Customer - Mod Commit</li><li>602 - Bank Statement w/ <strong>R</strong>econcile</li></ul></li><li>General Ledger<ul><li>701 - Chart of <strong>A</strong>ccounts - Page 1 | Page 2</li><li>702 - List of <strong>J</strong>ournal Entries</li><li><em>703 - GL Account Group Summary (Absent)</em></li><li>704 - GL Account <strong>T</strong>ransactions</li><li>705 - Annual <strong>E</strong>xpense Breakdown</li><li>706 - <strong>B</strong>alance Sheet</li><li>707 - <strong>P</strong>rofit and Loss Statement | Period Y-1</li><li>708 - Trial <strong>B</strong>alance</li><li>709 - Ta<strong>x</strong> Report</li><li>710 - Audit Trail</li></ul></li></ul><p class="vspace">Reports 107 to 113 <strong>do not have</strong> Destination to Excel available.</p><div class="vspace"> </div><h3>Procedure</h3><ul><li>If the EMail Report option is chosen, make sure the <strong>real_name</strong> field in the <strong>users</strong> table for the logged in user is filled. Otherwise the sender's name will be blank.</li><li>Forum Post - Linking Reports. <code class="escaped">reporting/includes/reporting.inc </code>line 128, <code class="escaped">function print_link() </code>shows how to make a link to the core report you want and <code class="escaped">manufacturing/workorder_entry.php </code>line 64 shows how to build a report link.</li></ul><div class="vspace"> </div><h3>Report Extensions</h3><ul><li>Inventory<ul><li>Inventory History Report</li></ul></li><li>General Ledger<ul><li>Annual Expense Breakdown Report - Detailed</li><li>Annual Balance Breakdown Report - Detailed</li></ul></li></ul><p>Fixes needed for these extensions are here and here (both needed for both).</p><dl><dd><ul><li>Cash Flow Statement - It uses an existing security code - 'SA_BANKREP'. Make sure <em>Bank reports and inquiries</em> is checked in the required role.</li></ul></dd></dl><div class="vspace"> </div><h3>Hiding unauthorised report links</h3><ul><li>Forum Post - this is an extension of the original wish list for menu options visibility discussed here.<ul><li>In <strong>reporting/includes/reports_classes.inc</strong> in the <strong>class Report</strong> add a class property <strong>$access</strong></li><li>Modify the class constructor in it as:</li></ul></li></ul><div class="vspace"> </div><pre class="escaped">    function __construct($id, $name, $ar_params = null, $access = null)
    {
        $this-&gt;id = $id;
        $this-&gt;name = $name;
        if ($ar_params) $this-&gt;set_controls($ar_params);
                $this-&gt;access = $access;
    }
</pre><div class="vspace"> </div><dl><dd><ul><li>Just before listing the report links, ie., just before:</li></ul></dd></dl><div class="vspace"> </div><pre class="escaped">foreach($this-&gt;ar_reports[$class_id] as $rep_id =&gt; $report)
</pre><p class="vspace">insert the following</p><div class="vspace"> </div><pre class="escaped">if($report-&gt;access != null &amp;&amp; !$_SESSION["wa_current_user"]-&gt;can_access($report-&gt;access) &amp;&amp; $_SESSION["wa_current_user"]-&gt;hide_inaccessible_menu_items()) continue;
</pre><div class="vspace"> </div><dl><dd><ul><li>Modify the add_report() method to use the <strong>$access</strong> property:</li></ul></dd></dl><div class="vspace"> </div><pre class="escaped">function addReport($class, $id, $rep_name, $params=null,$access=null)
    {
        unset($this-&gt;ar_reports[$class][$id]); // unset std report if any
        $this-&gt;ar_reports[$class][$id] = new Report($id, $rep_name, $params, $access);
    }
</pre><div class="vspace"> </div><ul><li>Finally modify each <strong>$reports-&gt;addReport</strong> call in <strong>reporting/reports_main.php</strong> to include the <strong>$access</strong> variable, like for example, <em>Customer Balances</em> report (here the <strong>$access</strong> value is 'SA_CUSTPAYMREP'):</li></ul><div class="vspace"> </div><pre class="escaped">$reports-&gt;addReport(RC_CUSTOMER, 101, _('Customer &amp;Balances'),
    array(    _('Start Date') =&gt; 'DATEBEGIN',
            _('End Date') =&gt; 'DATEENDM',
            _('Customer') =&gt; 'CUSTOMERS_NO_FILTER',
            _('Show Balance') =&gt; 'YES_NO',
            _('Currency Filter') =&gt; 'CURRENCY',
            _('Suppress Zeros') =&gt; 'YES_NO',
            _('Comments') =&gt; 'TEXTBOX',
            _('Orientation') =&gt; 'ORIENTATION',
            _('Destination') =&gt; 'DESTINATION'),'SA_CUSTPAYMREP');
</pre><div class="vspace"> </div><h3>Watermarking</h3><ul><li>Forum Post</li></ul><p>Yes, indeed, there is possibility to insert watermark, or even whole externally designed blueprint in documents generated in FA.</p><p class="vspace">The blueprint have to be designed as PDF-1.4 file (other pdf formats may also be supported), and you will have to put the designed watermark page in <em>/reporting/forms</em> folder.</p><p class="vspace">Out of the box two blueprints are supported for two basic document layouts:</p><ul><li>Header2.pdf - for reports 107-113, 209,210 and 409</li><li>Header.pdf - for all other documents</li></ul><p class="vspace">If you want to test this feature, just put attached file in the forms folder and generate Sales Invoice. In real design some small changes in <em>repxxx.php</em> files can be necessary.</p><p class="vspace">Of course this feature does not address directly the problem of ad-hoc per document watermarks, but is ready to use if e.g. you plan to hire artist to design your invoices ;).</p><div class="vspace"> </div><h3>Third Party Reports</h3><ul><li>Customer Account Statement - Forum Post</li><li>Customer <strong>L</strong>edger Report with Areas and Salesmen filters based on rep101 - Forum Post | Screenshots - Form, Report</li><li>Item Sales Summary Report | Screenshot - Report</li><li>Item Sales Type Summary | Screenshot - Report | Forum Post<ul><li>This report is based on <em>rep309</em> (Item Sales Summary Report).</li><li>It adds the ability to filter on sales type.</li><li>It collapses price (one line per item rather than one line per item/price) and sorts by item description rather than item number.</li><li>Both reports should always have the same total.</li><li>Use the original <em>rep309</em> if you are interested in seeing sales by price breakdown.</li><li>Use Sales Type Summary if you are interested in seeing sales by <em>sales type</em>.</li><li>This is useful if you have defined several sales types (wholesale, retail, ...) and need to report these sales separately on government reports.</li><li>Reporting sales by <em>tax group</em> would also be useful).</li></ul></li><li>Enhanced Customer Sales Statement | Screenshot - Report</li><li>Reportico - Open Source freestyle reporting</li></ul><div class="vspace"> </div><h3>Large Excel Reports</h3><ul><li>Forum Post - Fix for Excel reports to show over 65535 rows</li></ul><div class="vspace"> </div><h3>Adjusting Column Widths in Reports</h3><ul><li>Forum Post: FA v2.3 column widths for reports can be adjusted by backporting the changes in this commit in FA 2.4 when transaction numbers exceed 3 digits.</li></ul><div class="vspace"> </div><h3>Auto Printing with no Profile</h3><p>If the Printer is connected to the same computer that runs the POS, to send print directly to printer at a POS Location without going to browser preview by adding this code to line 954 of <strong>pdf_report.inc</strong> in the <strong>function End()</strong> just after the <em>globals</em>:</p><pre class="escaped">$this-&gt;IncludeJS("print();"); // force to open print dialog
</pre><div class="vspace"> </div><h3>EMailing parameters in Batch Files</h3><p>The links like the following can be used in batch files to email reports:</p><div class="vspace"> </div><pre class="escaped">http://example.com/fa/reporting/prn_redirect.php?PARAM_0=1-10&amp;PARAM_1=1-10&amp;PARAM_2=&amp;PARAM_3=1&amp;PARAM_4=&amp;PARAM_5=&amp;PARAM_6=&amp;PARAM_7=0&amp;REP_ID=107
</pre><p>or just the parameters needed like:</p><pre class="escaped">http://example.com/reporting/prn_redirect.php?PARAM_0=1-10&amp;PARAM_1=1-10&amp;PARAM_3=1&amp;PARAM_7=0&amp;REP_ID=107
</pre><p class="vspace">The following reports in FA can be emailed directly from the reports page form choices:</p><div class="vspace"> </div><h4>email_Customers</h4><ul><li>107 - Invoices (From 0, To 1, EMail 3)</li><li>113 - Credit Notes</li><li>110 - Deliveries</li><li>108 - Statements</li><li>109 - Sales Orders</li><li>111 - Sales Quotations</li><li>112 - Receipts</li></ul><div class="vspace"> </div><h4>Email Suppliers</h4><ul><li>209 - Purchase Orders</li><li>210 - Remittances</li></ul><div class="vspace"> </div><h4>EMail Locations</h4><ul><li>409 - Work Orders</li></ul><div class="vspace"> </div><h3>Watermarking and background / logo merging in reports</h3><ul><li>Another page on Watermarking circa 2013.</li><li>Forum Post: Per company, per Template report watermarking is available in FrontAccounting.</li><li>Background / Watermark merge PDF file for <strong>Company #</strong> to be located in the folder: <strong>company/#/reporting/forms</strong></li><li>The merge PDF file should be of Acrobat Reader format v5.0 (PDF format v1.4) or lower since FA uses the free FPDI v1.2.1 library released on 2008-09-11</li><li>Sample OpenWriter Watermark/logo file for customization is here courtesy Joe Hunt.</li><li>Watermark / logo PDFs can be created in <strong>MS Word 2007 =&gt; Page Layout =&gt; Watermark =&gt; Custom Watermark =&gt; File =&gt; Save As =&gt; PDF or XPS</strong> are of PDF Format v1.5 and above and needs to be printed in some virtual printer like PDFCreator or doPDF. PDFCreator generates small PDF files and is free but may try to install some nagware (optional) in the later versions.</li><li>Choosing standard fonts like <strong>Arial</strong> will result in non embedding of fonts in the resultant PDF making it small in size.</li><li>On New page creation in reports, the <em>function <strong>setSourceFile()</strong></em> in <strong>reporting/includes/fpdi/fpdi.php</strong> is called and returns the number of pages in the above <strong>Header2.pdf</strong> file.</li><li>On New page creation in reports another possibility is to place a <strong>Header2.php</strong> file in reporting/forms folder (possibly in the company folder) as well.</li><li>If the <strong>Header2.pdf / Header.pdf</strong> files have more than one page, then each one is used in succession for the report and the last one is used for the remaining pages of the report.</li><li>Use Cases:<ul><li>Company logo at the top of the <strong>Header.pdf</strong>.</li><li>Stamp underneath the existing report, such as confidential data across the page in a vague / subdued color.</li><li><strong>setSourceFile()</strong> loads an existing pdf as a "background", onto which all output is "printed".</li><li>Incorporate a company letterhead.</li></ul></li></ul><div class="vspace"> </div><h4>Header2.php file in Watermarking and background of reports</h4><ul><li>The Template (eg., Header2) function is executed only at the very end of the NewPage() method in <strong>reporting/includes/pdf_report.inc</strong>.</li><li>The <strong>company/#/reporting/Header2.php</strong> if present will provide overrides for properties not defined in<ul><li>the Newpage() method</li><li>doctext.inc</li><li>header2.inc</li></ul></li><li>It will also provide values in cases where pre-defined properties in the above are not overridden (like <strong>$this-&gt;formData['br_name']</strong>).</li><li>Any variables (need to <strong>global</strong> them) and properties referred to in the <strong>header2.inc</strong> and <strong>doctext.inc</strong> files that are not part of the core can be provided in the <strong>Header2.php</strong> file and assigned in <strong>header2.inc</strong> and <strong>doctext.inc</strong> only if absent.</li><li>Example of <strong>Header2.php</strong> usage and it's effect is here.</li><li>The mere presence of the file <strong>company/#/reporting/includes/header2.inc</strong> does not ensure that it will be used in reports. It is necessary for the appropriate <strong>company/#/reporting/repXXX.php</strong> file to be present for it to apply to it.</li></ul><div class="vspace"> </div><h4>Show Company Logo on Reports</h4><ul><li>Commit available since 2017-09-04</li><li>See Forum Post</li></ul><div class="vspace"> </div><h3>Excel Reports in RTL Languages</h3><ul><li>This issue is discussed here.</li><li>A possible fix to install <em>glibc-common</em> and / or php-iconv</li><li>Also try php5-intl and php-mbstring</li></ul><div class="vspace"> </div><h3>Tips and Tricks</h3><h4>RTL Fonts</h4><ul><li>Missing San-Serif Font</li><li>Alan Wood's Fonts Site</li></ul><div class="vspace"> </div><h4>Suppressing Page number display</h4><ul><li>Forum Post: Comment out the lines 144-147 in <strong>reporting/includes/header2.inc</strong></li></ul><div class="vspace"> </div><pre class="escaped">//        $this-&gt;NewLine(2);
//    
//        if ($this-&gt;pageNumber &gt; 1)
//            $this-&gt;Text($mcol + 180, _("Page") . ' ' . $this-&gt;pageNumber);
</pre><div class="vspace"> </div><h4>PDF Failure</h4><ul><li><strong>Symptom:</strong> PDF reports has stopped working, reports to Excel/LibreOffice works.</li><li><strong>Fix:</strong> On some newer internet explorer releases, you will have to set the compatibility mode. If you cannot solve this you may use another browser like Firefox or another.</li><li><strong>Fix:</strong> On recent Firefox browsers, the PDF Application Viewer is set to internal preview pdfjs feature that does not yet have full Adobe PDF functionality. See Forum Post and view Article.</li><li><strong>Fix:</strong> The <strong>php.ini</strong> setting of the variable <strong>max_input_vars</strong> may be increased from the default value of 1000 (even if not present in some php versions). See Forum Post.</li></ul><div class="vspace"> </div><h4>dejavu.php missing - TCPDF Font Failure</h4><ul><li>Download dejavu.php</li><li>Extract contents to <strong>reporting/fonts</strong> folder</li><li>This is the default unicode font when none are defined</li><li>Can change this font at around line 161 in <strong>reporting/includes/class.pdf.inc</strong></li></ul><div class="vspace"> </div><h4>PHP &lt; v5.3 PDF Failure</h4><p>The commit on 2014-11-07 was made to accomodate PHP 5.3's <strong>preg_replace_callback()</strong> function but for those on earlier PHP versions like <strong>v5.2.17</strong>, this non existent function caused PDF failure. It's reversion for these older PHP versions will solve this issue.</p><div class="vspace"> </div><h4>Charge To / deliver To</h4><ul><li>Create customer: <strong>Mark</strong></li><li>Create branch <strong>DD Towing</strong> under customer <strong>Mark</strong></li><li>Sales quote or Order pdf will display <strong>DD Towing</strong> in <strong>Charge to</strong> and <strong>Deliver to</strong> field</li><li>In FA v2.3.6 (Circa 2011) it would have displayed <strong>Mark</strong> in <strong>Charge to</strong> field and <strong>DD Towing</strong> in <strong>Deliver to</strong> field</li><li>This was changed to make possible having branches charged directly</li><li>To revert to old FA v2.3.6 functionality, set the name and billing address for the branch the same as for customer (keep branch short name unique to easily recognise branches in selectors). If this is still a problem (e.g. you have big database with mostly multibranch customers) you can fix the <strong>charge data</strong> in <strong>reporting/includes/doctext.inc</strong> file about line 18-20 (the code should be self explanatory). Lines 44 and 61 can be changed from</li></ul><pre class="escaped">_("Customer's Reference") =&gt; $this-&gt;formData["customer_ref"],
</pre><p>to</p><pre class="escaped">_("Customer's Reference") =&gt; $this-&gt;formData["name"],
</pre><ul><li>If there is no Branch billing address, then the Customer address is used.</li></ul><div class="vspace"> </div><h4>Report Signature</h4><p>Do one of the following:</p><ul><li>In Comment or Memo field</li><li>If this info is for all customers - add signature in the file <strong>reporting/includes/header2.inc</strong></li><li>For only SALES QUOTATIONS, add the info in the file <strong>reporting/rep111.php</strong>.</li></ul><pre class="escaped">if ($this-&gt;formData['doctype'] == ST_SALESQUOTE)
{
    $txt = "test";
    $this-&gt;TextWrapLines($ccol, $this-&gt;row, $right - $ccol, $txt, 'C')
}
</pre><div class="vspace"> </div><h4>Extra Message Lines in Delivery Note Report</h4><p>Insert the following lines after line 216 in file <strong>reporting/rep110.php</strong>.</p><pre class="escaped">$rep-&gt;NewLine(2);
$rep-&gt;TextCol(1, 4, "_______________________________________________", -2);
$rep-&gt;NewLine(1);
$rep-&gt;TextCol(1,4, "      Signature, Company Stamp &amp; Date", -2);
</pre><p>You may need to adjust the underline and text a bit. Try it on the Training Co. first. Please make a backup of the file, in case you get an update. You will then have to insert these lines again.</p><div class="vspace"> </div><h4>Extra Parameters in Reports taken from formatted <strong>notes</strong> field</h4><p>Include the following function into any report or it's includes:</p><pre class="escaped">/*
// Purpose: Function to parse a string into parameters
// Release Date: 2014-12-26
// Author: ApMuthu &lt;apmuthu@usa.net&gt;
// Usage:
$str = "PPFrt#2000 CID#6378465 TaxEx#2345-038 abcde ertrgdert COD#4253 jdegtd PIN#6473654";
$p = parse_notes_params($str);
echo print_r($p, true);
*/

function parse_notes_params($str, $sep=" ", $delim="#") {
	$str_params = explode($sep, $str);
	$param_array=Array('notes' =&gt; '');
	foreach ($str_params AS $str_param) {
		$param_set=explode($delim, trim($str_param));
		$key = (array_key_exists(0, $param_set) ? trim($param_set[0]) : '');
		$val = (array_key_exists(1, $param_set) ? trim($param_set[1]) : '');
		if (strlen($key) &gt; 0 &amp;&amp; strlen($val) &gt; 0) {
			$param_array[$key]=$val;
		} else {
			// stop at first missing parameter set
			// break;
			// Collect the rest into notes
			$param_array['notes'] .= (" " .  $str_param);
		}
	}
	$param_array['notes'] = trim($param_array['notes']);
	return $param_array;
}
</pre><p class="vspace">An example of usage will be in the <strong>reporting/rep110.php</strong> file at near the end just before the last <code>$rep-Font();</code> statement:</p><pre class="escaped">    $notes_params = parse_notes_params($branch['notes']);
    if ($packing_slip == 0 &amp;&amp; array_key_exists('CID', $notes_params)) {
        $rep-&gt;NewLine(1);
        $rep-&gt;TextCol(1, 7, "Old Customer# : " . $notes_params['CID'], - 2);
    }
</pre><p>Screenshot</p><div class="vspace"> </div><h4>PDF Page Numbering</h4><p>Site-wide report page numbering (useful particularly for multi page invoices) can be enabled by commenting out line 142 in <strong>reporting/includes/header2.inc</strong>:</p><pre class="escaped">//		if ($this-&gt;pageNumber &gt; 1 &amp;&amp; !strstr($this-&gt;filename, "Bulk"))
</pre><div class="vspace"> </div><h4>EMail Templating in FA v2.4 only - Current Fix for FA v2.3.x</h4><p>Change line 1006 in <strong>reporting/includes/pdf_report.inc</strong>:</p><pre class="escaped">    $msg = _("Dear") . " " . $contact['name2'] . ",\n\n" 
</pre><p>to</p><pre class="escaped">    $msg = _("Dear") . " " . $contact['name'].' '.$contact['name2'] . ",\n\n" 
</pre><div class="vspace"> </div><h4>PDF Font Change</h4><ul><li>Put the 3 font files in <strong>reporting/fonts</strong> : tuffy.php, tuffy.z and tuffy.afm</li><li>On Linux</li></ul><pre class="escaped">apt-get install ttf-tuffy
ln -s /usr/share/fonts/truetype/ttf-tuffy/* reporting/fonts
</pre><ul><li>Edit <strong>reporting/includes/class.pdf.inc</strong> around Line 119:</li></ul><pre class="escaped">// Was helvetica, now tuffy.
        $this-&gt;FontFamily = 'tuffy';
        $this-&gt;FontStyle = '';
        $this-&gt;FontSizePt = 12;
</pre><div class="vspace"> </div><h4>Add Page to Report</h4><ul><li>Forum Post for PHP &gt;= 7</li><li>Example to add a page to rep109.php (Sales Order Report), say Tax Invoice not yet made:</li></ul><pre class="escaped">// START my modification
$rep-&gt;SetHeaderType('');
$rep-&gt;NewPage();
/*
here i want to write predefined html report here 
*/
// END my modification

if ($ email == 1)
  {
    $ rep-&gt; End ($ email);
  }
}
if ($ email == 0)
  $ rep-&gt; End ();

</pre><div class="vspace"> </div><h4>Salesman Wise reports</h4><h4>BarCode inclusion</h4><ul><li>Devel.BarCodeUsage</li></ul><h4>Audit Trail User-wise</h4><p>When there are multiple users of a single role like Administrator, we track their individual actions (like who entered an order or who received cash) by using the Audit Trail report.</p><div class="vspace"> </div><h4>Old PDF Reports auto deletion time / retention</h4><ul><li>Raise the time from 3 minutes (180 secs) to a different value before a report is considered stale and deleted</li><li>Comment out the lines below to prevent it's deletion and retain it indefinitely.</li></ul><p class="vspace">Lines 1082-1085 in <strong>reporting/includes/pdf_report.inc</strong>:</p><pre class="escaped">// seems 3 min is enough for any report download, isn't it?
if (time()-$ftime &gt; 180){
	unlink($dir.'/'.$file);
}</pre></div></article></div></div><div id="sidebar"><div class="inner"><nav id="menu"><header class="major"><h2>Menu</h2></header><ul><li><a href="./" target="_self">Introduction</a></li><li class="has-submenu"><a href="./working-with-flow-accounting.html" target="_self" aria-haspopup="true" class="opener">Working with Flow acounting</a><ul class="submenu level-2" aria-hidden="true"><li><a href="./demo-3.html" target="_self">Sales</a></li><li><a href="./purchases.html" target="_self">Purchases</a></li><li><a href="./items-and-inventory.html" target="_self">Items and Inventory</a></li><li><a href="./manufacturing.html" target="_self">Manufacturing</a></li><li><a href="./fixed-assets.html" target="_self">Fixed Assets</a></li><li><a href="./dimensions.html" target="_self">Dimensions</a></li><li><a href="./banking-and-general-ledger.html" target="_self">Banking And General Ledger</a></li><li><a href="./setup.html" target="_self">Setup</a></li><li><a href="./purchases.html" target="_self">Purchases</a></li></ul></li><li class="has-submenu"><a href="./the-superadmin.html" target="_self" aria-haspopup="true" class="opener">The Super Admin</a><ul class="submenu level-2" aria-hidden="true"><li><a href="./createupdate-companies-installupdate-languages-installactivate-extensions-software-upgrade.html" target="_self">Create/Update Companies, Install/Update Languages, Install/Activate Extensions, Software Upgrade</a></li></ul></li></ul></nav><section><header class="major"><h2>Get in touch</h2></header><p>Sed varius enim lorem ullamcorper dolore aliquam aenean ornare velit lacus,ac varius enim lorem ullamcorper dolore. Proin sed aliqu facilisis ante interdum. Sed nulla amet lorem feugiat tempus aliquam.</p><ul class="contact"><li class="icon solid fa-envelope"><a href="#">information@untitled.tld</a></li><li class="icon solid fa-phone">(000) 000-0000</li><li class="icon solid fa-home">1234 Somewhere Road #8254<br>Nashville, TN 00000-0000</li></ul></section><footer id="footer"><p class="copyright">© Editorial 2 - All rights reserved<br>Design by: <a href="https://html5up.net" target="_blank" rel="noopener">HTML5 UP</a>, Powered by Publii</p></footer></div></div></div><script src="./assets/js/jquery.min.js?v=7c14a783dfeb3d238ccd3edd840d82ee"></script><script src="./assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="./assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="./assets/js/util.min.js?v=cbdaf7c20ac2883c77ae23acfbabd47e"></script><script src="./assets/js/main.min.js?v=08add7f6d435054ad38ec38d7cf8be40"></script><script>var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};</script></body></html>