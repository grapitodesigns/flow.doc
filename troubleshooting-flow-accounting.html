<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Troubleshooting Flow Accounting - flow accounting</title><meta name="description" content="Enabling debug mode in config.php The config.php has several variables to debug FrontAccounting from the simplest sql trail onwards to pdf debugging. The&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://grapitodesigns.github.io/flow.doc/troubleshooting-flow-accounting.html"><link rel="alternate" type="application/atom+xml" href="https://grapitodesigns.github.io/flow.doc/feed.xml" title="flow accounting - RSS"><link rel="alternate" type="application/json" href="https://grapitodesigns.github.io/flow.doc/feed.json" title="flow accounting - JSON"><meta property="og:title" content="Troubleshooting Flow Accounting"><meta property="og:image" content="https://grapitodesigns.github.io/flow.doc/media/website/flow-500.png"><meta property="og:image:width" content="499"><meta property="og:image:height" content="242"><meta property="og:site_name" content="flow accounting"><meta property="og:description" content="Enabling debug mode in config.php The config.php has several variables to debug FrontAccounting from the simplest sql trail onwards to pdf debugging. The&hellip;"><meta property="og:url" content="https://grapitodesigns.github.io/flow.doc/troubleshooting-flow-accounting.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://grapitodesigns.github.io/flow.doc/assets/css/fontawesome-all.min.css?v=85514f933f9e0b82460af63f1a403fa5"><link rel="stylesheet" href="https://grapitodesigns.github.io/flow.doc/assets/css/style.css?v=08429d9dfdee792d7b4282fb057fc507"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://grapitodesigns.github.io/flow.doc/troubleshooting-flow-accounting.html"},"headline":"Troubleshooting Flow Accounting","datePublished":"2025-12-10T15:11+05:30","dateModified":"2025-12-10T15:11+05:30","image":{"@type":"ImageObject","url":"https://grapitodesigns.github.io/flow.doc/media/website/flow-500.png","height":242,"width":499},"description":"Enabling debug mode in config.php The config.php has several variables to debug FrontAccounting from the simplest sql trail onwards to pdf debugging. The&hellip;","author":{"@type":"Person","name":"Grapito","url":"https://grapitodesigns.github.io/flow.doc/authors/grapito/"},"publisher":{"@type":"Organization","name":"Grapito","logo":{"@type":"ImageObject","url":"https://grapitodesigns.github.io/flow.doc/media/website/flow-500.png","height":242,"width":499}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="is-preload page-template"><div id="wrapper"><div id="main"><div class="inner"><header id="header"><a class="logo logo-image" href="https://grapitodesigns.github.io/flow.doc/"><img src="https://grapitodesigns.github.io/flow.doc/media/website/flow-500.png" alt="flow accounting" width="499" height="242"></a></header><article class="post"><header class="main post__header"><h1>Troubleshooting Flow Accounting</h1></header><div class="post__inner post__entry"><div id="wikitext"><h2>Enabling debug mode in config.php</h2><p>The <strong>config.php</strong> has several variables to debug FrontAccounting from the simplest sql trail onwards to pdf debugging.</p><div class="vspace"> </div><h2>Enhanced sql_trail reporting</h2><p>The standard <em>sql_trail</em> reports the sql error message if any. Using this commit in apmuthu GitHub repo, the following will appear prefixed to the message in the <em>msg</em> field.</p><ul><li>For <strong>INSERT</strong> statements, the <strong>AUTO_INCREMENT</strong> field's <strong>last inserted id</strong> value prefixed with an <strong>I</strong></li><li>For <strong>UPDATE / REPLACE</strong> statements, the number of <strong>affected rows</strong> prefixed with <strong>M</strong></li></ul><div class="vspace"> </div><h2>Inspecting variables in reports</h2><ul><li>Most if not all reports contain a <strong>Comments</strong> parameter that can be populated with various variables to be inspected.</li><li>Example diagnostic screenshot.</li><li>This Forum Post provides means to populate variables into a log file:</li></ul><div class="vspace"> </div><pre class="escaped">$log_output = print_r($array_var, true);
file_put_contents('D:/XAMPP/htdocs/fa23/tmp/log_file.txt', $log_output, FILE_APPEND);
</pre><p class="vspace">The full path may be required for the log file above in some installs whilst in some the file may need to exist with the appropriate ownerships and permissions.</p><div class="vspace"> </div><h3>Inspecting Variables in FA code</h3><ul><li>If a custom module is installed in FA, then the <strong>installed_extensions.php</strong> files (both in the <em>webroot</em> and in the <em>company</em> folders should have the name element manually amended if it is different from the module's folder name.</li><li>To examine the state of a few variables just before activating / deactivating a custom extension for a company, we navigate to the file <strong>admin/inst_module.php</strong> and look at the line 216 that does the job:</li></ul><div class="vspace"> </div><pre class="escaped">			$activated = activate_hooks($ext['package'], $comp, !$ext['active']);	// change active state
</pre><p class="vspace">We now place the following lines just before it:</p><div class="vspace"> </div><pre class="escaped">$log_output = "\n\n Start dump of all variables \n\n" . print_r(get_defined_vars(),true) . "\n\n";
file_put_contents('D:/XAMPP/htdocs/fa23/tmp/log_file.txt', $log_output, FILE_APPEND);
</pre><div class="vspace"> </div><ul><li>Now activate and deactivate the installed extension and view the output of the file <strong>tmp/log_file.txt</strong>.</li><li>It will list all variables in global and local scope.</li><li>Choose the ones of interest and then fine tune the result subset by replacing the debug lines above with:</li></ul><div class="vspace"> </div><pre class="escaped">$log_output = "\n\n Start \n\n \$exts = " . print_r($exts,true) . "\n\n \$_POST = " . print_r($_POST,true) . "\n\n";
file_put_contents('D:/XAMPP/htdocs/fa23/tmp/log_file.txt', $log_output, FILE_APPEND);
</pre><div class="vspace"> </div><ul><li>Blank out the file <strong>tmp/log_file.txt</strong></li><li>Now, again perform an activation and deactivation of the installed custom module and view it's contents:<div class="vspace"> </div></li><li>Activation part of the log:</li></ul><div class="vspace"> </div><pre class="escaped"> Start 

 $exts = Array
(
    [1] =&gt; Array
        (
            [package] =&gt; simplehrm
            [name] =&gt; Simple HRM
            [version] =&gt; 2.3.24-1
            [available] =&gt; 
            [type] =&gt; extension
            [path] =&gt; modules/simplehrm
            [active] =&gt; 0
        )

)

 $_POST = Array
(
    [_random] =&gt; 490519.50853340235
    [_token] =&gt; f216fcf4593d1be472435e37c86fc1ecd10d8f85be093e604f479f1b62a69db9
    [_modified] =&gt; 0
    [_focus] =&gt; extset
    [Refresh] =&gt; Update
    [Active1] =&gt; 1
    [extset] =&gt; 2
)

</pre><div class="vspace"> </div><ul><li>Deactivation part of the log:</li></ul><div class="vspace"> </div><pre class="escaped"> $exts = Array
(
    [1] =&gt; Array
        (
            [package] =&gt; simplehrm
            [name] =&gt; Simple HRM
            [version] =&gt; 2.3.24-1
            [available] =&gt; 
            [type] =&gt; extension
            [path] =&gt; modules/simplehrm
            [active] =&gt; 1
        )

)

 $_POST = Array
(
    [_random] =&gt; 25475.323523664465
    [_token] =&gt; 55fc59ac2dcaef2cb80834c065787aaf52c1fab3625c4fb39ca7bc14e0bebb39
    [_modified] =&gt; 0
    [_focus] =&gt; extset
    [Refresh] =&gt; Update
    [extset] =&gt; 2
)

</pre><div class="vspace"> </div><h3>Use the enhanced var_dump debugger - kint | Usage</h3><h3>Troubleshoot cURL issues in FA</h3><h3>Troubleshoot Ajax in FA</h3><ul><li>Download Browser Console Library</li><li>Place the contents in the FA <strong>includes/</strong> folder</li><li>In FA's <strong>includes/session.inc</strong>, append the following:</li></ul><div class="vspace"> </div><pre class="escaped">include_once($path_to_root . "/includes/ChromePhp.php");
function ConsoleDebug($obj){
    ChromePhp::log($obj);
}
</pre><div class="vspace"> </div><ul><li>To inspect any variable in FA, insert the following code at the desired location:</li></ul><div class="vspace"> </div><pre class="escaped">ConsoleDebug($anything);
</pre><div class="vspace"> </div><ul><li>The variable should appear in the standard FireFox Console.</li><li>For Chrome install ChromeLogger, the Chrome Javascript Console extension.</li></ul><div class="vspace"> </div><h3>Use __halt_compiler() function</h3><ul><li>Notes on usage are in the comments.</li></ul><div class="vspace"> </div></div></div></article></div></div><div id="sidebar"><div class="inner"><div id="search" class="alt"><form action="https://grapitodesigns.github.io/flow.doc/search.html" class="search__form"><input class="search__input" type="search" name="q" placeholder="search..." aria-label="search..." autofocus></form></div><nav id="menu"><header class="major"><h2>Menu</h2></header><ul><li><a href="https://grapitodesigns.github.io/flow.doc/" target="_self">Introduction</a></li><li class="has-submenu"><a href="https://grapitodesigns.github.io/flow.doc/working-with-flow-accounting.html" target="_self" aria-haspopup="true" class="opener">Working with Flow acounting</a><ul class="submenu level-2" aria-hidden="true"><li><a href="https://grapitodesigns.github.io/flow.doc/demo-3.html" target="_self">Sales</a></li><li><a href="https://grapitodesigns.github.io/flow.doc/purchases.html" target="_self">Purchases</a></li><li><a href="https://grapitodesigns.github.io/flow.doc/items-and-inventory.html" target="_self">Items and Inventory</a></li><li><a href="https://grapitodesigns.github.io/flow.doc/manufacturing.html" target="_self">Manufacturing</a></li><li><a href="https://grapitodesigns.github.io/flow.doc/fixed-assets.html" target="_self">Fixed Assets</a></li><li><a href="https://grapitodesigns.github.io/flow.doc/dimensions.html" target="_self">Dimensions</a></li><li><a href="https://grapitodesigns.github.io/flow.doc/banking-and-general-ledger.html" target="_self">Banking And General Ledger</a></li><li><a href="https://grapitodesigns.github.io/flow.doc/setup.html" target="_self">Setup</a></li><li><a href="https://grapitodesigns.github.io/flow.doc/purchases.html" target="_self">Purchases</a></li></ul></li><li class="has-submenu"><a href="https://grapitodesigns.github.io/flow.doc/the-superadmin.html" target="_self" aria-haspopup="true" class="opener">The Super Admin</a><ul class="submenu level-2" aria-hidden="true"><li><a href="https://grapitodesigns.github.io/flow.doc/createupdate-companies-installupdate-languages-installactivate-extensions-software-upgrade.html" target="_self">Create/Update Companies, Install/Update Languages, Install/Activate Extensions, Software Upgrade</a></li></ul></li></ul></nav><section><header class="major"><h2>Get in touch</h2></header><p>Sed varius enim lorem ullamcorper dolore aliquam aenean ornare velit lacus,ac varius enim lorem ullamcorper dolore. Proin sed aliqu facilisis ante interdum. Sed nulla amet lorem feugiat tempus aliquam.</p><ul class="contact"><li class="icon solid fa-envelope"><a href="#">information@untitled.tld</a></li><li class="icon solid fa-phone">(000) 000-0000</li><li class="icon solid fa-home">1234 Somewhere Road #8254<br>Nashville, TN 00000-0000</li></ul></section><footer id="footer"><p class="copyright">© Editorial 2 - All rights reserved<br>Design by: <a href="https://html5up.net" target="_blank" rel="noopener">HTML5 UP</a>, Powered by Publii</p></footer></div></div></div><script src="https://grapitodesigns.github.io/flow.doc/assets/js/jquery.min.js?v=7c14a783dfeb3d238ccd3edd840d82ee"></script><script src="https://grapitodesigns.github.io/flow.doc/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://grapitodesigns.github.io/flow.doc/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://grapitodesigns.github.io/flow.doc/assets/js/util.min.js?v=cbdaf7c20ac2883c77ae23acfbabd47e"></script><script src="https://grapitodesigns.github.io/flow.doc/assets/js/main.min.js?v=08add7f6d435054ad38ec38d7cf8be40"></script><script>var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};</script></body></html>