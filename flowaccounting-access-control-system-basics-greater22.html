<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>FlowAccounting access control system basics (&gt;&#x3D;2.2) - flow accounting</title><meta name="description" content="Since version 2.2 FrontAccounting has new, flexible access level control system. In contrast to previous system based on arrays stored&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="./flowaccounting-access-control-system-basics-greater22.html"><link rel="stylesheet" href="./assets/css/fontawesome-all.min.css?v=85514f933f9e0b82460af63f1a403fa5"><link rel="stylesheet" href="./assets/css/style.css?v=fe08125592679d0c116054906c8e9f5c"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"./flowaccounting-access-control-system-basics-greater22.html"},"headline":"FlowAccounting access control system basics (>=2.2)","datePublished":"2025-12-01T12:04+05:30","dateModified":"2025-12-01T12:04+05:30","image":{"@type":"ImageObject","url":"./media/website/flow-500.png","height":242,"width":499},"description":"Since version 2.2 FrontAccounting has new, flexible access level control system. In contrast to previous system based on arrays stored&hellip;","author":{"@type":"Person","name":"Grapito","url":"./authors/grapito/"},"publisher":{"@type":"Organization","name":"Grapito","logo":{"@type":"ImageObject","url":"./media/website/flow-500.png","height":242,"width":499}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="is-preload page-template"><div id="wrapper"><div id="main"><div class="inner"><header id="header"><a class="logo logo-image" href="./"><img src="./media/website/flow-500.png" alt="flow accounting" width="499" height="242"></a></header><article class="post"><header class="main post__header"><h1>FlowAccounting access control system basics (&gt;&#x3D;2.2)</h1></header><div class="post__inner post__entry"><div id="contentbox"><div id="content"><div id="wikitext"><p class="vspace">Since version 2.2 FrontAccounting has new, flexible access level control system. In contrast to previous system based on arrays stored in global config.php file, the new system uses per company security_roles tables. This approach makes FrontAccounting finally suitable for multicompany installation involving various types of companies.</p><h2>Security schema</h2><p>New access control system uses following concepts:</p><div class="vspace"> </div><dl><dt>Security area</dt><dd>elementary fragment of application functionality which is placed under control of access system;</dd><dt>Security role</dt><dd>set of security areas which is accessable for user with some role in company;</dd><dt>Security section</dt><dd>a couple of security areas of similar application grouped together to make roles defining easier.</dd></dl><p class="vspace">Security areas stored in global $security_areas array have two properties:</p><ul><li>identifier (in numeric and string form)</li><li>description.</li></ul><p>Description is used only to identify area in security roles editor, while string identifiers are used in various places of source code to be checked against current user permissions.</p><p class="vspace">Every security area belongs to one security section, which can be considered as upper level of access control. All defined security sections are stored in global $security_sections array together with descriptions used in roles editor.</p><div class="vspace"> </div><h2>Access Setup</h2><p>FrontAccounting since version 2.2 has role based access system. It means that every user defined in a system has assigned role related to his position in company. For any user only security areas which belong to user's role are accesible.</p><p class="vspace">To grant access to any security area for any role administrator first have to make accessible also related area's security section. Switching security section off disables access to all related security areas.</p><p class="vspace">Security roles predefined in FrontAccounting initial database can be customized or completely rewritten by administrator according to company internal security policy.</p><p class="vspace">Some security areas crucial for overall site security are accesible only for administrators of the first installed company, who can be considered as superadmins. All those important areas are grouped in section 0 (System administartion), and as of FA 2.2 involve:</p><ul><li>Installing/update of companies</li><li>Installing/update language message files</li><li>Installing/activation system extensions</li><li>System upgrades</li></ul><div class="vspace"> </div><h2>How all it works</h2><p>Every user defined in a system has one security role assigned. List of all accesible security areas/sections codes is retrieved from security_roles table on user login, and cached in user session variable for fast checking. Every page in a system has at least one related security area, which is assigned to $page_security global variable at the beginning of the page script.</p><p class="vspace">Page access control is performed by check_page_security() call in page() function (used for every displayed page) or by can_access_page() call in FrontReport constructor for all reports. When user has granted access rights to checked security area, selected page is displayed or report generated. Otherwise information message is displayed and page/report generation is aborted.</p><div class="vspace"> </div><h2>Security extensions</h2><p>FrontAccounting application accepts two forms of functionality additions: extension modules and extension plugins. Both types of extensions can use standard security areas/sections to control access to introduced functionality, or define its own security areas and/or sections.</p><p class="vspace">To extend access control system with additional sections/areas, extension need to contain a file where all new extensions are defined. The access control file relative path should be entered during extension install process on Install/Activate Extensions page, or as 'access' property during direct entry in installed_extensions.php file.</p><p class="vspace">Every php script using security extensions have to call function add_security_extensions() to make defined extensions active. The call should be placed between session.inc inclusion and page() or FrontReport() call.</p><div class="vspace"> </div><h2>Example access control configuration file</h2><p>This is content of sample access control file for CRM extension module:</p><pre class="escaped">&lt;?php
/*
	Define security section codes
*/
define('SS_CRM_C',	101&lt;&lt;8);
define('SS_CRM',	102&lt;&lt;8);
define('SS_CRM_A',	103&lt;&lt;8);

/*
	Additional security sections for CRM module
*/
$security_sections[SS_CRM_C] = _("CRM configuration");
$security_sections[SS_CRM] = _("CRM transactions");
$security_sections[SS_CRM_A] = _("CRM analytics");
/*
	Additional security areas for CRM module
*/
$security_areas['SA_CRMSETUP'] = array(SS_CRM_C|1, _("CRM module setup"));
$security_areas['SA_CRMCONTACTENTRY'] = array(SS_CRM|1, _("Customer contact entry"));
$security_areas['SA_CRMANALYITCS'] = array(SS_CRM|1, _("Pre-sale contact analytics"));

?&gt;
</pre><p class="vspace">The exact values used for security section codes are not very important, as they are rewritten by access control system during integration of access extensions. Therefore numeric values of security sections/areas should never be used directly in the extensions source. Use string representations instead when needed, or values retrieved from $security_areas array.</p><div class="vspace"> </div></div><div class="clearer"> </div></div></div><div id="footnavbox"><div id="footnav" class="navbuttons"><ul><li> </li></ul></div></div></div></article></div></div><div id="sidebar"><div class="inner"><nav id="menu"><header class="major"><h2>Menu</h2></header><ul><li><a href="./" target="_self">Introduction</a></li><li class="has-submenu"><a href="./working-with-flow-accounting.html" target="_self" aria-haspopup="true" class="opener">Working with Flow acounting</a><ul class="submenu level-2" aria-hidden="true"><li><a href="./demo-3.html" target="_self">Sales</a></li><li><a href="./purchases.html" target="_self">Purchases</a></li><li><a href="./items-and-inventory.html" target="_self">Items and Inventory</a></li><li><a href="./manufacturing.html" target="_self">Manufacturing</a></li><li><a href="./fixed-assets.html" target="_self">Fixed Assets</a></li><li><a href="./dimensions.html" target="_self">Dimensions</a></li><li><a href="./banking-and-general-ledger.html" target="_self">Banking And General Ledger</a></li><li><a href="./setup.html" target="_self">Setup</a></li><li><a href="./purchases.html" target="_self">Purchases</a></li></ul></li><li class="has-submenu"><a href="./the-superadmin.html" target="_self" aria-haspopup="true" class="opener">The Super Admin</a><ul class="submenu level-2" aria-hidden="true"><li><a href="./createupdate-companies-installupdate-languages-installactivate-extensions-software-upgrade.html" target="_self">Create/Update Companies, Install/Update Languages, Install/Activate Extensions, Software Upgrade</a></li></ul></li></ul></nav><section><header class="major"><h2>Get in touch</h2></header><p>Sed varius enim lorem ullamcorper dolore aliquam aenean ornare velit lacus,ac varius enim lorem ullamcorper dolore. Proin sed aliqu facilisis ante interdum. Sed nulla amet lorem feugiat tempus aliquam.</p><ul class="contact"><li class="icon solid fa-envelope"><a href="#">information@untitled.tld</a></li><li class="icon solid fa-phone">(000) 000-0000</li><li class="icon solid fa-home">1234 Somewhere Road #8254<br>Nashville, TN 00000-0000</li></ul></section><footer id="footer"><p class="copyright">© Editorial 2 - All rights reserved<br>Design by: <a href="https://html5up.net" target="_blank" rel="noopener">HTML5 UP</a>, Powered by Publii</p></footer></div></div></div><script src="./assets/js/jquery.min.js?v=7c14a783dfeb3d238ccd3edd840d82ee"></script><script src="./assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="./assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="./assets/js/util.min.js?v=cbdaf7c20ac2883c77ae23acfbabd47e"></script><script src="./assets/js/main.min.js?v=08add7f6d435054ad38ec38d7cf8be40"></script><script>var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};</script></body></html>