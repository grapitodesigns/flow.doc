<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Exchange Rates - flow accounting</title><meta name="description" content="Purpose To obtain the current exchange rates from the web for all other currencies used in the specific FA install&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://grapitodesigns.github.io/flow.doc/exchange-rates.html"><link rel="alternate" type="application/atom+xml" href="https://grapitodesigns.github.io/flow.doc/feed.xml" title="flow accounting - RSS"><link rel="alternate" type="application/json" href="https://grapitodesigns.github.io/flow.doc/feed.json" title="flow accounting - JSON"><meta property="og:title" content="Exchange Rates"><meta property="og:image" content="https://grapitodesigns.github.io/flow.doc/media/website/flow-500.png"><meta property="og:image:width" content="499"><meta property="og:image:height" content="242"><meta property="og:site_name" content="flow accounting"><meta property="og:description" content="Purpose To obtain the current exchange rates from the web for all other currencies used in the specific FA install&hellip;"><meta property="og:url" content="https://grapitodesigns.github.io/flow.doc/exchange-rates.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://grapitodesigns.github.io/flow.doc/assets/css/fontawesome-all.min.css?v=85514f933f9e0b82460af63f1a403fa5"><link rel="stylesheet" href="https://grapitodesigns.github.io/flow.doc/assets/css/style.css?v=08429d9dfdee792d7b4282fb057fc507"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://grapitodesigns.github.io/flow.doc/exchange-rates.html"},"headline":"Exchange Rates","datePublished":"2025-11-21T12:44+05:30","dateModified":"2025-11-21T12:47+05:30","image":{"@type":"ImageObject","url":"https://grapitodesigns.github.io/flow.doc/media/website/flow-500.png","height":242,"width":499},"description":"Purpose To obtain the current exchange rates from the web for all other currencies used in the specific FA install&hellip;","author":{"@type":"Person","name":"Grapito","url":"https://grapitodesigns.github.io/flow.doc/authors/grapito/"},"publisher":{"@type":"Organization","name":"Grapito","logo":{"@type":"ImageObject","url":"https://grapitodesigns.github.io/flow.doc/media/website/flow-500.png","height":242,"width":499}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="is-preload page-template"><div id="wrapper"><div id="main"><div class="inner"><header id="header"><a class="logo logo-image" href="https://grapitodesigns.github.io/flow.doc/"><img src="https://grapitodesigns.github.io/flow.doc/media/website/flow-500.png" alt="flow accounting" width="499" height="242"></a></header><article class="post"><header class="main post__header"><h1>Exchange Rates</h1></header><div class="post__inner post__entry"><h3>Purpose</h3><p>To obtain the current exchange rates from the web for all other currencies used in the specific FA install for the chosen company vis-a-vis the default currency of the company and then tweak the value before storing it along with an settable date (default today) from which it should be operational.</p><div class="vspace"> </div><h3>Procedure</h3><ul><li>Currencies acceptable to the company are set in <strong>Banking and General Ledger</strong> -&gt; <a href="https://grapitodesigns.github.io/flow.doc/currencies.html">Currencies</a></li><li>Default Currency of Company is set in <strong>Setup</strong> -&gt; <a href="https://grapitodesigns.github.io/flow.doc/company-setup.html">Company Setup</a></li><li>Get Current Exchange Rates from the Web and set the optionally tweaked rate and Effective Date at <strong>Banking and General Ledger -&gt; Exchange Rates</strong></li><li>The Exchange Rate Request page still lists the default currency for choice but does not display the default currency in the <a class="urllink" href="https://frontaccounting.com/fawiki/uploads/Help/XchgRate.png" rel="nofollow">rate obtained page</a>.</li><li>If any currency rate is huge against the domestic currency and the rounding errors are getting big, then increase the currency rate decimals in Preferences (<strong>Setup -&gt; Display Setup</strong>) say from 4 to 6 or 8. Forum Post</li><li>Forum Post: Exchange rate is got from selected web source when first transaction on the day made in a given currency is entered. So, if you do not make transactions on every day, you will not have complete exchange rate tables.</li></ul><div class="vspace"> </div><h3>Tips and Tricks</h3><p>As of v2.3+, the order of using the Exchange Rate Provider is: ECB, YAHOO and then GOOGLE. No fiddling with code is necessary now. The file called <strong>/gl/includes/db/gl_db_rates.inc</strong> contains the code and the order of processing that can be rearranged for quicker and differently ordered rate acquisition as the case may be. As of v2.3.12+, the default Exchange Rate Provider can be set in the <strong>config.php</strong> file and BLOOMBERG is now an additional choice. The URLs used are:</p><ul><li>http://www.ecb.int/stats/eurofxref/eurofxref-daily.xml</li><li>Old URL: http://finance.yahoo.com/lookup?s=USD-EUR=X - Screenshot OK</li><li>http://www.google.com/finance/converter?a=1&amp;from=USD&amp;to=INR - Screenshot OK</li><li>Bloomberg Feature - http://www.bloomberg.com/finance/converter?a=1&amp;from=USD&amp;to=INR - Screenshot OK / Fail</li></ul><p>It is possible that in the case of YAHOO (Old URL), more than one entry arises whence the first one will be chosen. Hence in BugFix 1792 - FA v2.3.12+ a new processing code with a new url came into effect:</p><p> </p><h3>Development Notes</h3><ul><li>As of FA v2.3.12+ only <strong>rate_buy</strong> field in the <strong>exchange_rates</strong> table is used in FA.</li><li>The field <strong>rate_sell</strong> is not used (may be used in future).</li><li>The <strong>rate_sell</strong> field is populated with the same value using line 74 (FA v2.3.22+) in <strong>gl/includes/db/gl_db_rates.inc</strong>:</li></ul><p><code>add_exchange_rate($curr_code, $date_, $ex_rate, $ex_rate);</code></p><ul><li>Refer Post.</li></ul><div class="vspace"> </div><h3>Archive</h3><p>We still use <strong>ECB</strong> as our stable exchange rates provider, however, we are avare of that the coverage is not good for South America, Africa and Asia, so we have implemented it so that it is possible to swap provider. In CVS Main, a file called <strong><em>/gl/includes/db/gl_db_rates.inc</em></strong> has been updated so it is possible to use <strong>YAHOO</strong> or <strong>GOOGLE</strong> instead of <strong>ECB</strong>. Both <strong>YAHOO</strong> and <strong>GOOGLE</strong> have almost all currency rates in the world. These changes are going to release 2.2.2, but if you want this to be available in your 2.2 you will have to download this file from the CVS repository. http://frontaccounting.cvs.sourceforge.net/viewvc/frontaccounting/frontaccount/gl/includes/db/gl_db_rates.inc?view=log And you will have to create the following locale.inc file and place it in the /lang/xx_YY folder, where xx is the language and YY is the country. F.i. en_US.</p><p class="vspace">&lt;?php</p><p class="vspace">class Hooks {</p><pre>    function retrieve_exrate($curr, $date)
    {
        return get_extern_rate($curr, 'YAHOO', $date);
        //return get_extern_rate($curr, 'GOOGLE', $date);
    }
</pre><p>}</p><p class="vspace">?&gt;</p><p class="vspace">This will use <strong>YAHOO</strong> instead of <strong>ECB</strong>. Comment the <strong>YAHOO</strong> line and uncomment the <strong>GOOGLE</strong> line if you want to use <strong>GOOGLE</strong> instead. We do not guarantee that the currency rates are provided correctly, but I guess this is better than nothing for countries not served by <strong>ECB</strong>.</p><div class="vspace"> </div><h3>Troubleshooting</h3><ul><li>Most common errors that prevent the exchange rate from getting into FA is the lack of a proper DNS</li><li><strong>php5-curl</strong> and possibly <strong>curl</strong>) need to be installed</li><li>Use the following in a script to check some functions availability in FA:</li></ul><pre class="escaped">&lt;?php
// Checks PHP functions availability
// Author: Ap.Muthu
// Released on: 2017-10-28

echo 'Curl: ', (function_exists('curl_version') ? 'Enabled' : 'Disabled') . '&lt;'.'br&gt;';
echo 'Curl Init: ', (function_exists('curl_init') ? 'Enabled' : 'Disabled') . '&lt;'.'br&gt;';
echo 'file_get_contents: ', (file_get_contents(__FILE__) ? 'Enabled' : 'Disabled');
// FA Function
// echo 'url_get_contents: ', (function_exists('url_get_contents') ? 'Enabled' : 'Disabled') '&lt;'.'br&gt;';

?&gt;
</pre><ul><li>Use the following to check the GOOGLE Exchange Rate Provider and modify it for others</li></ul><pre class="escaped">&lt;?php
// This script outputs the GOOGLE Exchange Rate Provider response
// It can be modified for other providers as well
// Author: Ap.Muthu
// First Released on 2017-10-28
// Code based on FA exchange rate acquiring script
// Check that your DNS resolves like with a Trace Route or Ping

	$filename = "/finance/converter?a=1&amp;from=USD&amp;to=INR";
	$site = "finance.google.com";

ob_start();
$out = fopen('php://output', 'w');
$contents = '';

   	$ch = curl_init();

curl_setopt($ch, CURLOPT_VERBOSE, true);
curl_setopt($ch, CURLOPT_STDERR, $out);

    curl_setopt ($ch, CURLOPT_URL, 'http://'.$site.$filename);
	curl_setopt ($ch, CURLOPT_COOKIEJAR, "tmp/cookie.txt");
    curl_setopt ($ch, CURLOPT_HEADER, 0);
	curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1);
	// prevent warning while safe_mode/open_basedir on (redirection doesn't occur at least on ECB page)
	if (!ini_get('safe_mode') &amp;&amp; !ini_get('open_basedir'))
    	curl_setopt ($ch, CURLOPT_FOLLOWLOCATION, 1);
	curl_setopt ($ch, CURLOPT_TIMEOUT, 3);
    $contents = curl_exec ($ch);
	curl_close($ch);

$debug = ob_get_clean();
echo "&lt;"."pre&gt;".$debug."&lt;/"."pre&gt;";
//	echo (strlen($contents) &gt; 10) ? 'Curl can get Exchange Rates' : 'Curl Fails';

?&gt;
</pre><p class="vspace">These scripts are available</p></div></article></div></div><div id="sidebar"><div class="inner"><div id="search" class="alt"><form action="https://grapitodesigns.github.io/flow.doc/search.html" class="search__form"><input class="search__input" type="search" name="q" placeholder="search..." aria-label="search..." autofocus></form></div><nav id="menu"><header class="major"><h2>Menu</h2></header><ul><li><a href="https://grapitodesigns.github.io/flow.doc/" target="_self">Introduction</a></li><li class="has-submenu"><a href="https://grapitodesigns.github.io/flow.doc/working-with-flow-accounting.html" target="_self" aria-haspopup="true" class="opener">Working with Flow acounting</a><ul class="submenu level-2" aria-hidden="true"><li><a href="https://grapitodesigns.github.io/flow.doc/demo-3.html" target="_self">Sales</a></li><li><a href="https://grapitodesigns.github.io/flow.doc/purchases.html" target="_self">Purchases</a></li><li><a href="https://grapitodesigns.github.io/flow.doc/items-and-inventory.html" target="_self">Items and Inventory</a></li><li><a href="https://grapitodesigns.github.io/flow.doc/manufacturing.html" target="_self">Manufacturing</a></li><li><a href="https://grapitodesigns.github.io/flow.doc/fixed-assets.html" target="_self">Fixed Assets</a></li><li><a href="https://grapitodesigns.github.io/flow.doc/dimensions.html" target="_self">Dimensions</a></li><li><a href="https://grapitodesigns.github.io/flow.doc/banking-and-general-ledger.html" target="_self">Banking And General Ledger</a></li><li><a href="https://grapitodesigns.github.io/flow.doc/setup.html" target="_self">Setup</a></li><li><a href="https://grapitodesigns.github.io/flow.doc/purchases.html" target="_self">Purchases</a></li></ul></li><li class="has-submenu"><a href="https://grapitodesigns.github.io/flow.doc/the-superadmin.html" target="_self" aria-haspopup="true" class="opener">The Super Admin</a><ul class="submenu level-2" aria-hidden="true"><li><a href="https://grapitodesigns.github.io/flow.doc/createupdate-companies-installupdate-languages-installactivate-extensions-software-upgrade.html" target="_self">Create/Update Companies, Install/Update Languages, Install/Activate Extensions, Software Upgrade</a></li></ul></li></ul></nav><section><header class="major"><h2>Get in touch</h2></header><p>Sed varius enim lorem ullamcorper dolore aliquam aenean ornare velit lacus,ac varius enim lorem ullamcorper dolore. Proin sed aliqu facilisis ante interdum. Sed nulla amet lorem feugiat tempus aliquam.</p><ul class="contact"><li class="icon solid fa-envelope"><a href="#">information@untitled.tld</a></li><li class="icon solid fa-phone">(000) 000-0000</li><li class="icon solid fa-home">1234 Somewhere Road #8254<br>Nashville, TN 00000-0000</li></ul></section><footer id="footer"><p class="copyright">© Editorial 2 - All rights reserved<br>Design by: <a href="https://html5up.net" target="_blank" rel="noopener">HTML5 UP</a>, Powered by Publii</p></footer></div></div></div><script src="https://grapitodesigns.github.io/flow.doc/assets/js/jquery.min.js?v=7c14a783dfeb3d238ccd3edd840d82ee"></script><script src="https://grapitodesigns.github.io/flow.doc/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://grapitodesigns.github.io/flow.doc/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://grapitodesigns.github.io/flow.doc/assets/js/util.min.js?v=cbdaf7c20ac2883c77ae23acfbabd47e"></script><script src="https://grapitodesigns.github.io/flow.doc/assets/js/main.min.js?v=08add7f6d435054ad38ec38d7cf8be40"></script><script>var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};</script></body></html>